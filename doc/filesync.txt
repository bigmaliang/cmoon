文件分发
=======

需求
----
    社区管理后台生成的投放页面需要同步到应用前台, 或者通过特定方式让用户能够正常访问.
    

术语
----
    投放页面:    套用社区资源生成的静态文件, 需要同步到应用前台服务器.
    后台服务器:    套用资源数据生成投放页面的服务器, 当前仅一台.
    应用前台:    页面需要保存的目的服务器, 可以是一至多台.


解决方法
-------
    以下几种方法可以实现用户访问投放页面:

    1, 应用前台配置 url 重定向规则, 将静态文件访问请求转至后台服务器.
        优点: 管理后台只需简单保存投放页面于本机磁盘
        缺点: 应用前台服务器需要配置url重写, 而且会将应用压力转移至后台服务器.
    
    2, 管理后台挂载应用前台服务器的硬盘分区到本机, 以保存本地文件的方式实现文件的远程传送.
        优点: 配置相对简单, 而且不会增加后台服务器压力
        缺点: 如果一个应用有多台前台服务器, 需要挂载多个分区, 而且后台服务器也要保存多次

    3, 管理后台通过 ssh cp 的方式将投放页面拷贝至多台应用前台服务器.
        优点: 应用前台无需做修改, 后台将生成的页面推送到前台服务器,
             业务复杂度也不会随着应用服务器的增加而同步增加(只需修改同步服务器列表)
        缺点: 管理后台需要确切的知道前台服务器的ip, 和文件保存的路径,
              还有具有目录写权限的用户名和密码

    4, 应用前台上跑 rsyncd, 同步管理后台上特定目录.
        优点: 后台无需维护前台服务器列表, 只需简单保存本地文件
        缺点: 应用服务器的配置比较复杂, 而且每台应用前台都需要相应配置

经后台小组讨论, 决定使用第三种方式实现页面同步.  具体工作原理为后台生成静态投放页面后,
调用同步脚本, 传递应用业务关键字为参数, 将文件同步到相应业务的前台服务器.

注: 该方法需要后台管理人员维护应用业务同步脚本, 需要及时获知前台应用服务器变更信息.
