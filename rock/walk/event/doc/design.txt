用途
===

事件中心基于 nmdb(http://blitiri.com.ar/p/nmdb/) 的架构设计，其功能主要就是为高速应用
场合下提供缓存队列，后台执行。 可以有效缓解压力毛刺（设计容量请参考capacity.txt）。
事件中心以插件的方式支持多个应用，每个应用有处理有一单独的缓存队列和处理线程。
单个后端应用处理缓慢不会影响整个事件中心的处理效率。

其典型应用便是处理大量数据库写操作。



原理
====

大体上与nmdb一致， 只是加了一个多个后端应用的支持。
扩展了nmdb网络协议（http://blitiri.com.ar/p/nmdb/doc/network.html）的Payload部分。
详细网络协议请参考protocol.txt。

客户端发起事件请求，请求中包含事件名、以及相应的参数。 后台程序在收到请求后:
	1, 校验请求合法性
	2, 解出事件名，并查找后端时候支持此种事件
	3, 对支持的事件解出整包数据，放入相应的事件队列
	4, 如果是同步请求，给相应处理线程发送事件到达信号，处理线程搞定后发送返回包，
	   否则直接返回处理成功给客户端。



实现
====

|-- event
|   |-- api	客户端 api，该目录会生成libmevent.so、mevent.h、net-const.h。
		请使用make install安装。
|   |-- base	事件中心内部公用函数
|   |-- daemon	事件中心后端主程序，该目录会生成一个libmevent_server.so，
		请使用make install安装，以便插件机制能正常工作。
|   |-- doc	文档
|   |-- plugin	事件中心后端插件程序
|   `-- test	客户端测试程序，调用api



依赖
====

1, 偷懒一把， 事件中心依赖 clearsilver (http://clearsilver.org/) 的 libneo_utl :)
   请在cs 的 utl 目录下生成一个libneo_utl.so，然后 cp 到 /usr/local/lib

2, 自带的数据库后端插件依赖mysql客户端库。
